<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form method="post">
        <table>
            <tr>
                <td> <label for="username">User name</label> </td>
                <td><input type="text" class="thisrequired" name="username" id="username" required></td>
            </tr>
            <tr>
                <td>password</td>
                <td><input type="text" class="thisrequired" name="password" id="password" required></td>
            </tr>
            <tr>
                <td>confirm password</td>
                <td><input type="text" class="thisrequired" name="cpassword" id="cpassword" required></td>
            </tr>
            <tr>
                <td>new field</td>
                <td><input type="text" class="thisrequired" name="nfield" id="nfield" required></td>
            </tr>
            <tr>
                <td>email</td>
                <td><input type="text" class="thisrequired" name="email" id="email" required></td>
            </tr>
            <tr>
                <td>mobile</td>
                <td>
                    <input type="text" class="thisrequired" name="mobile" id="mobile" required pattern="[0-9]+"
                        minlength="10" maxlength="10" title="please enter number only">
                </td>
            </tr>
            <tr>
                <td colspan="2"><input type="submit" name="btn" id="btn"></td>
            </tr>
        </table>


    </form>
    <h1>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt, rerum.</h1>
    <input  type="text" id="myParentElement">
    <!-- <p id="myParentElement"></p> -->
    <p>Lorem ipsum dolor sit amet.</p>
    <script>

        var elements = document.querySelectorAll('.thisrequired');

        for (var i = 0; i < elements.length; i++) {
            elements[i].addEventListener('blur', function (data) {
                
                var val = this.getAttribute('name');
                
                var arroe = val + "Error";

                var txt = document.createElement("SPAN");
                txt.style.textTransform = "capitalize";

                // console.log(data);
                console.log(this.nextSibling);
                
                txt.innerHTML = arroe;
                if (this.value == "") {
                    if (this.nextSibling == null) {
                        this.insertAdjacentElement("afterend", txt);
                    }
                } else {
                    if (this.nextSibling != null) {
                        if (this.nextSibling.nodeName == "SPAN") {
                            this.nextSibling.remove()
                        }
                    }
                }

            });
        }







        // var elements = document.querySelectorAll('.thisrequired');

        // for (var i = 0; i < elements.length; i++) {
        //     elements[i].addEventListener('blur', function () {
        //         var val = document.querySelector('input').name;
        //         var arroe = (val + "Error");
        //         var txt = document.createElement("SPAN");
        //         txt.innerHTML = arroe;
        //         if (this.value == "") {
        //             if (this.nextSibling == null) {
        //                 this.parentNode.appendChild(txt);
        //             }
        //         } else {
        //             if (this.nextSibling != null) {
        //                 if (this.nextSibling.nodeName == "SPAN") {
        //                     this.nextSibling.remove()
        //                 }
        //             }
        //         }
        //     });
        // }


  


        // function checkreq(anything, spnid) {
        //     var txt = document.createElement("SPAN");
        //     txt.innerHTML = "Whatever text you want to write . . .";
        //     if (anything.value == "") {
        //         if (anything.nextSibling == null) {
        //             anything.parentNode.appendChild(txt);
        //         }
        //     } else {
        //         if (anything.nextSibling != null) {
        //             if (anything.nextSibling.nodeName == "SPAN") {
        //                 anything.nextSibling.remove()
        //             }
        //         }
        //     }

        // }


        

    </script>

</body>

</html>



<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form method="post">
        <table>
            <tr>
                <td> <label for="username">User name</label> </td>
                <td><input type="text" class="thisrequired" name="username" onblur="checkreq(this)" id="username"
                        required></td>
            </tr>
            <tr>
                <td>password</td>
                <td><input type="text" class="thisrequired" name="password" onblur="checkreq(this)" id="password"
                        required></td>
            </tr>
            <tr>
                <td>confirm password</td>
                <td><input type="text" class="thisrequired" name="cpassword" onblur="checkreq(this)" id="cpassword"
                        required></td>
            </tr>
            <tr>
                <td>new field</td>
                <td><input type="text" name="nfield" onblur="checkreq(this)" id="nfield" required></td>
            </tr>
            <tr>
                <td>email</td>
                <td><input type="text" name="email" id="email" required></td>
            </tr>
            <tr>
                <td>mobile</td>
                <td><input type="text" class="thisrequired" name="mobile" onblur="checkreq(this)" id="mobile" required
                        pattern="[0-9]+" minlength="10" maxlength="10" title="please enter number only"></td>
            </tr>
            <tr>
                <td colspan="2"><input type="submit" name="btn" id="btn"></td>
            </tr>
        </table>
    </form>
    <script>
        function checkreq(anything, spnid) {
            var txt = document.createElement("SPAN");
            txt.innerHTML = "Whatever text you want to write . . .";
            if (anything.value == "") {
                if (anything.nextSibling == null) {
                    anything.parentNode.appendChild(txt);
                }
            } else {
                if (anything.nextSibling != null) {
                    if (anything.nextSibling.nodeName == "SPAN") {
                        anything.nextSibling.remove()
                    }
                }
            }

        }


        // document.getElementById("email").onblur = function() {
        //         myFunction()
        //     };

    </script>

</body>

</html> -->

<!-- var inputget = document.getElementsByClassName("thisrequired");

        // var inputget = document.querySelector(".thisrequired")
        for (let index = 0; index < inputget.length; index++) {
            inputget[index].addEventListener('blur', function (e) {
                console.log(e);
                var txt = document.createElement("SPAN");
                var name = this.getAttribute('name');
                var error = name + "error"

                txt.innerHTML = error;
                if (inputget[index].value == "") {
                    if (inputget[index].nextSibling == null) {
                        inputget[index].parentNode.appendChild(txt);
                        
                    }
                } else {
                    if (inputget[index].nextSibling != null) {
                        if (inputget[index].nextSibling.nodeName == "SPAN") {
                            inputget[index].nextSibling.remove()
                        }
                    }
                }

            })

        } -->